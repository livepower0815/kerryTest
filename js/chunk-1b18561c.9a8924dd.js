(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b18561c"],{"2f21":function(t,e,s){"use strict";var a=s("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},"55dd":function(t,e,s){"use strict";var a=s("5ca1"),n=s("d8e8"),r=s("4bf8"),i=s("79e5"),o=[].sort,l=[1,2,3];a(a.P+a.F*(i(function(){l.sort(void 0)})||!i(function(){l.sort(null)})||!s("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(r(this)):o.call(r(this),n(t))}})},"9df1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return!1===!t.customer.info?s("main",[s("customer-info",{attrs:{loading:!1}}),s("tab-header",{attrs:{current:t.currentTab}}),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"tab-pane pt-0 active show",class:{"section-loading":t.isLoading_1}},[t.loanList.length>0?s("div",t._l(t.loanList,function(e,a){return s("div",{key:"loan-item-"+a},[s("h4",{staticClass:"mt-5 mb-3"},[t._v("擔保品地址："+t._s(e.address))]),s("div",{staticClass:"insurance-row row"},[s("table",{staticClass:"table insurance-green"},[t._m(0,!0),s("tbody",t._l(e.data,function(e,n){return s("tr",{key:"loan-tr-"+a+"-"+n},[s("td",[s("a",{staticClass:"link text-underline",on:{click:function(s){t.openTheLoanModal(e)}}},[t._v(t._s(e.account))])]),s("td",[t._v(t._s(t._f("dateFormat")(e.checkAt)))]),s("td",[t._v(t._s(e.status))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("numberFormat")(e.amount)))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("numberFormat")(e.last)))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.series))]),s("td",[t._v(t._s(e.fireRisk))]),s("td",[t._v(t._s(t._f("dateFormat")(e.nextPayAt)))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.nextRate)+"%")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("numberFormat")(e.nextFee)))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.nextSeries))])])}))])])])})):s("div",{staticClass:"text-center",attrs:{colspan:"6"}},[s("h3",{staticClass:"mb-3"},[t._v("無貸款資料")])])])])]),s("loan-modal",{attrs:{loan:t.selectedLoan,open:t.loanModalOpen},on:{close:function(e){t.panelClose("loanModalOpen")}}})],1):t._e()},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("貸款帳號")]),s("th",[t._v("核准日期")]),s("th",{attrs:{width:"50"}},[t._v("契約狀況")]),s("th",{staticClass:"text-right"},[t._v("貸款金額")]),s("th",{staticClass:"text-right"},[t._v("貸款餘額")]),s("th",{staticClass:"text-right"},[t._v("貸款總期數")]),s("th",[t._v("火險效力")]),s("th",[t._v("下期應繳日")]),s("th",{staticClass:"text-right"},[t._v("下期利率")]),s("th",{staticClass:"text-right"},[t._v("下期應繳金額")]),s("th",{staticClass:"text-right",attrs:{width:"50"}},[t._v("下期期數")])])])}],r=(s("96cf"),s("1da1")),i=(s("7f7f"),s("28a5"),s("1c4c"),s("ac6a"),s("5df3"),s("f400"),s("c5f6"),s("be94")),o=s("2f62"),l=(s("0a63"),s("872c")),c=s("8e44"),d=s("df3a"),u=s("c45c"),_=s("35b6"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",class:{"is-open":t.open}},[s("div",{staticClass:"modal-dialog",staticStyle:{width:"900px"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("a",{staticClass:"close",on:{click:function(e){t.$emit("close")}}},[s("i",{staticClass:"icon-close"})]),s("div",{staticClass:"col-6 pl-0"},[s("h3",{staticClass:"modal-title"},[t._v("\n            貸款帳號 "),null!==t.loan?s("span",[t._v(t._s(t.loan.account))]):t._e()])]),s("div",{staticClass:"col-6 pr-0 text-right"},[null!==t.loan?s("h4",{staticClass:"my-1"},[t._v(t._s(t.loan.address))]):t._e()])]),s("div",{staticClass:"modal-body"},[s("h4",[t._v("近6期繳費記錄")]),s("table",{staticClass:"table insurance-green"},[t._m(0),s("tbody",t._l(t.records,function(e,a){return s("tr",{key:"loan-record-"+a},[s("td",[t._v(t._s(e.series))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("numberFormat")(e.last)))]),s("td",[t._v(t._s(t._f("dateFormat")(e.shouldPayAt)))]),s("td",[t._v(t._s(t._f("dateFormat")(e.payAt)))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.rate)+"%")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("numberFormat")(e.principal)))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("numberFormat")(e.interest)))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("numberFormat")(e.delayInt)))]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("numberFormat")(e.renge)))]),s("td",[t._v(t._s(e.payment))])])}))])])])])])},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{width:"45"}},[t._v("期數")]),s("th",{staticClass:"text-right"},[t._v("繳款前"),s("br"),t._v("本金餘額")]),s("th",[t._v("應繳日期")]),s("th",[t._v("實繳日期")]),s("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("適用年利率")]),s("th",{staticClass:"text-right",attrs:{width:"80"}},[t._v("本期本金")]),s("th",{staticClass:"text-right",attrs:{width:"80"}},[t._v("本期利息")]),s("th",{staticClass:"text-right",attrs:{width:"70"}},[t._v("延滯金")]),s("th",{staticClass:"text-right",attrs:{width:"70"}},[t._v("違約金")]),s("th",[t._v("繳款方式")])])])}],f=(s("55dd"),{name:"LoanModal",props:{open:{type:Boolean,default:!1},loan:{type:Object,default:function(){return null}}},data:function(){return{records:[]}},watch:{loan:"getLoan"},methods:{getLoan:function(){var t=this.loan.intList;t.sort(function(t,e){return t.series>e.series?1:-1}),this.records=t.slice(0,t.length>5?6:t.length),this.records=this.records.sort(function(t,e){return e.series-t.series})}}}),v=f,g=s("2877"),p=Object(g["a"])(v,h,m,!1,null,null,null);p.options.__file="LoanModal.vue";var b=p.exports,C={info:{},data:{},iaa:{},financial:{},decline:[],family:[],record:[]},x={name:"CustomerDetail7",mixins:[l["a"]],data:function(){return{isLoading_1:!1,currentTab:0,customer:C,loanList:[],selectedLoan:null,loanModalOpen:!1}},components:{Avatar:d["a"],CustomerInfo:u["a"],TabHeader:_["a"],LoanModal:b},computed:Object(i["a"])({},Object(o["c"])(["BaseUrl","UserInfo","CustInfo"])),watch:{$route:function(){this.initCustomerDetail7()}},methods:Object(i["a"])({},Object(o["b"])(["setPageLock"]),{openTheLoanModal:function(t){this.selectedLoan=t,this.panelOpen("loanModalOpen")},initCustDetail7:function(){var t=this;this.isLoading_1=!0,Object(c["ab"])(this.UserInfo.id,this.CustInfo.ID).then(function(e){if(e.body&&e.body.length>0){var s=e.body.map(function(t){return{address:t.GAGE_ADDR,account:t.LOAN_ID,checkAt:t.LOAN_DATE,status:t.LOAN_STATUS_NM,amount:Number(t.LOAN_AMT),last:Number(t.SPR_AMT),series:t.LOAN_PERIOD,fireRisk:t.FIRE_STATUS,nextPayAt:t.NEXT_PAYDT,nextRate:t.RATE,nextFee:Number(t.DUTY_PAYMT),nextSeries:t.NEXT_PAY_TERM,getintCode:t.GETINT_CODE,intList:0==t.intList.length?[]:t.intList.map(function(t){return{series:t.PAY_TERM,last:Number(t.LAST_PRINCIPAL),shouldPayAt:t.DUTY_PAYDT,payAt:t.REAL_PAYDT,rate:t.INT_RATE,renge:Number(t.RENEGE),delayInt:Number(t.DELAY_INT),interest:Number(t.INTEREST),principal:Number(t.PRINCIPAL),payment:t.PAY_TYPE_NM}})}}),a=new Map;s.forEach(function(t,e){a.has(t.address)?a.get(t.address).push(t):a.set(t.address,[t])}),t.loanList=Array.from(a.values()).map(function(t){return{address:t[0].address,data:t}}),t.isLoading_1=!1}else t.loanList=[],t.isLoading_1=!1})}}),beforeMount:function(){var t=this.$route.name.split(/-/g).reverse();this.currentTab=Number(t[0])},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.initCustDetail7();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},A=x,L=Object(g["a"])(A,a,n,!1,null,null,null);L.options.__file="CustomerDetail7.vue";e["default"]=L.exports},df3a:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("img",{staticClass:"avatar",attrs:{src:2===t.gender?t.BaseUrl+"assets/common/gender_woman_l.png":1===t.gender?t.BaseUrl+"assets/common/gender_man_l.png":t.BaseUrl+"assets/common/gender_unknow_l.png",srcset:2===t.gender?t.BaseUrl+"assets/common/gender_woman_l@2x.png":1===t.gender?t.BaseUrl+"assets/common/gender_man_l@2x.png":t.BaseUrl+"assets/common/gender_unknow_l@2x.png",width:t.size}})},n=[],r=(s("c5f6"),s("be94")),i=s("2f62"),o={name:"Avatar",computed:Object(r["a"])({},Object(i["c"])(["BaseUrl"])),props:{gender:{type:Number,default:0},size:{type:Number,default:60}}},l=o,c=s("2877"),d=Object(c["a"])(l,a,n,!1,null,null,null);d.options.__file="Avatar.vue";e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-1b18561c.9a8924dd.js.map