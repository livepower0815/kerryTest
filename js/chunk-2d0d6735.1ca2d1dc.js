(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6735"],{7336:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",[a("section",{staticClass:"search container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10 offset-1"},[a("form",{staticClass:"form"},[a("div",{staticClass:"input-group input-lg"},[a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.keyowrd,expression:"keyowrd"}],staticClass:"form-control",attrs:{type:"text",name:"keyowrd",id:"keyowrd",placeholder:"輸入客戶名稱查詢"},domProps:{value:e.keyowrd},on:{input:function(t){t.target.composing||(e.keyowrd=t.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-icon",attrs:{type:"submit"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.doSearch()}}},[a("i",{staticClass:"icon-search i-24"})])])])])])]),a("section",{staticClass:"container-fluid"},[a("h4",{staticClass:"text-green"},[e._v("\n      群組列表："+e._s(this.$route.query.grp_name)+"\n    ")]),a("div",{class:{"section-loading":e.isLoading_1}},[a("table",{staticClass:"table datatable table-striped table-bordered",attrs:{id:"datatable"}},[a("thead",[a("tr",[a("th",{attrs:{width:"140px"}},[a("div",{staticClass:"checkbox checkbox-inline mr-0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkAll,expression:"checkAll"}],attrs:{type:"checkbox",name:"check-all",id:"check-all",value:"1"},domProps:{checked:Array.isArray(e.checkAll)?e._i(e.checkAll,"1")>-1:e.checkAll},on:{change:function(t){var a=e.checkAll,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n="1",c=e._i(a,n);s.checked?c<0&&(e.checkAll=a.concat([n])):c>-1&&(e.checkAll=a.slice(0,c).concat(a.slice(c+1)))}else e.checkAll=i}}}),a("label",{attrs:{for:"check-all"}})]),e._v("\n              #\n            ")]),a("th",{attrs:{width:"100px"}},[e._v("姓名")]),a("th",[e._v("身分證")]),a("th",[e._v("手機")]),a("th",[e._v("電話")]),a("th",[e._v("生日")])])]),e.tableData.length?a("tbody",e._l(e.tableData,function(t,s){return a("tr",{key:"td-"+s},[a("td",[a("div",{staticClass:"checkbox checkbox-inline mr-0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selection,expression:"selection"}],attrs:{type:"checkbox",name:"td-item",id:"check-"+s},domProps:{value:t.identityID,checked:Array.isArray(e.selection)?e._i(e.selection,t.identityID)>-1:e.selection},on:{change:function(a){var s=e.selection,i=a.target,n=!!i.checked;if(Array.isArray(s)){var c=t.identityID,l=e._i(s,c);i.checked?l<0&&(e.selection=s.concat([c])):l>-1&&(e.selection=s.slice(0,l).concat(s.slice(l+1)))}else e.selection=n}}}),a("label",{attrs:{for:"check-"+s}})]),a("span",{staticClass:"no"},[e._v(e._s(s+1))]),a("span",{staticClass:"info text-center"},[a("level",{attrs:{lv:t.lv}}),a("avatar",{attrs:{gender:t.gender,size:20}})],1)]),a("td",[a("a",{staticClass:"link text-underline",on:{click:function(a){a.preventDefault(),e.toCustDetail(t.identityID)}}},[e._v("\n                "+e._s(t.name)+"\n              ")])]),a("td",[e._v(e._s(t.identityID))]),a("td",[e._v(e._s(t.mobile))]),a("td",[e._v(e._s(t.phone))]),a("td",[a("div",{staticClass:"date"},[e._v(e._s(e._f("dateFormat")(t.birthday)))]),a("div",{staticClass:"age"},[a("b",[e._v(e._s(t.ages))]),e._v("歲\n              ")])])])})):a("tbody",[a("tr",[e._m(0),a("td",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),a("td",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),a("td",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),a("td",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),a("td",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]})])])])]),a("div",{staticClass:"row mx-0"},[a("div",{staticClass:"col-12 text-right"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.selection.length},on:{click:function(t){e.panelOpen("printModalOpen")}}},[e._v("\n          列印名條\n        ")])])])]),a("print-modal",{attrs:{open:e.printModalOpen,custs:e.selection},on:{close:function(t){e.panelClose("printModalOpen")}}})],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",{staticClass:"empty",attrs:{colspan:"7"}},[a("h3",[e._v("此群組無客戶資料")])])}],n=(a("7f7f"),a("c5f6"),a("be94")),c=a("872c"),l=a("2f62"),o=a("e73d"),r=a("df3a"),d=a("28fe"),h=a("8e44"),u={name:"GroupMember",mixins:[c["a"]],watch:{checkAll:"toggleCheckAll"},computed:Object(n["a"])({},Object(l["c"])(["BaseUrl"])),components:{PrintModal:o["a"],Avatar:r["a"],Level:d["a"]},data:function(){return{isLoading_1:!1,printModalOpen:!1,checkAll:!1,selection:[],keyowrd:"",tableData:[],memDatas:[]}},methods:Object(n["a"])({},Object(l["b"])(["setPageLock","updateCustID"]),{toCustDetail:function(e){this.updateCustID(e),localStorage.CustID=e,this.$router.push({path:"/detail/CustID/tab/1"})},toggleCheckAll:function(e){this.selection=e?this.tableData.map(function(e){return e.identityID}):[]},initGroupMember:function(){var e=this;this.selection=[],this.isLoading_1=!0,Object(h["D"])(this.$store.state.userInfo.id,this.$route.query.grp_id).then(function(t){e.memDatas=t?t.map(function(e,t){return{id:t,lv:Number(e.vip_lvl)||0,gender:Number(e.sex)||0,name:e.name,identityID:e.id,mobile:e.mobile||"",phone:e.home_tel_area&&e.home_tel?"".concat(e.home_tel_area,"-").concat(e.home_tel):e.home_tel?e.home_tel:e.home_tel_area,birthday:e.birthday,ages:e.age}}):[],e.tableData=e.memDatas.map(function(e){return e}),console.log(e.tableData),e.isLoading_1=!1})},doSearch:function(){var e=this;this.tableData=this.memDatas.filter(function(t){return t.name.indexOf(e.keyowrd)>-1})}}),mounted:function(){this.initGroupMember(),window.$("#datatable").dataTable({scrollY:"380px",paging:!1,searching:!1,ordering:!0,columnDefs:[{orderable:!1,targets:[0,4,5]}]})}},m=u,p=a("2877"),v=Object(p["a"])(m,s,i,!1,null,null,null);v.options.__file="GroupMember.vue";t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0d6735.1ca2d1dc.js.map