{"version":3,"sources":["webpack:///./src/desktop/views/FilterResult.vue?442c","webpack:///src/desktop/views/FilterResult.vue","webpack:///./src/desktop/views/FilterResult.vue?6a93","webpack:///./src/desktop/views/FilterResult.vue","webpack:///./src/desktop/components/GroupModal.vue?41fc","webpack:///src/desktop/components/GroupModal.vue","webpack:///./src/desktop/components/GroupModal.vue?91b8","webpack:///./src/desktop/components/GroupModal.vue","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","click","toSearchFilter","_l","filter","i","key","_s","attrs","id","width","directives","name","rawName","value","expression","type","domProps","checked","Array","isArray","checkAll","_i","change","$event","$$a","$$el","target","$$c","$$v","$$i","concat","slice","for","tableData","d","did","selection","lv","Number","vip_level","gender","sex","size","routeToCustDetail","index","mobile","phone","_f","birthday","address","class","active","idmark","indexOf","colspan","remoteDataMsg","_m","disabled","length","panelOpen","open","printModalOpen","custs","close","panelClose","groupModalOpen","submit","submitGroup","staticRenderFns","FilterResultvue_type_script_lang_js_","mixins","common","watch","components","PrintModal","GroupModal","Avatar","Level","computed","Object","objectSpread","vuex_esm","data","filters","customerType","methods","getCustomersAndSetup","_this","conditionsObj","$route","query","field_name","keys","map","eachKey","eachCondition","push","title","option","$store","dispatch","state","filterData","option_ch","join","service","userInfo","then","result","header","status","body","customer_list","eachCust","_ref","idmarkSource1","source1","idmarkSource2","source2","idmarkSource3","source3","idmarkSource4","source4","idmarkSource5","source5","idmarkSource6","source6","defineProperty","$toast","info","group","toggleCheckAll","val","item","$router","path","custId","updateCustID","localStorage","CustID","mounted","_mounted","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","views_FilterResultvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","is-open","section-loading","isLoading_1","placeholder","keyup","findGroup","input","composing","keyword","stopPropagation","preventDefault","groupList","tempSelection","rid","selected","grp_id","role","selectGroup","grp_name","addNewGroup","_e","doCancel","doSubmit","GroupModalvue_type_script_lang_js_","props","Boolean","default","currentPage","String","error","recommandList","selectedMemOri","getAllGroup","groups","forEach","initList","_this2","select","console","log","_this3","$this","insertList","selectID","insertMap","errList","$emit","message","_this4","cust","unselectedMemOri","custsOfAgnt","totalLength","components_GroupModalvue_type_script_lang_js_","toObject","__webpack_require__","$keys","it","$export","core","fails","module","exports","KEY","exec","fn","exp","S","F"],"mappings":"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","file":"js/chunk-cd9a9684.a61f5da6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"container-fluid\"},[_c('section',[_c('h4',{staticClass:\"text-green\"},[_vm._v(\"\\n      目前篩選條件\\n      \"),_c('button',{staticClass:\"btn btn-default btn-sm m-0\",on:{\"click\":_vm.toSearchFilter}},[_vm._v(\"修改條件\")])]),_c('div',{staticClass:\"list badgets mb-4\"},_vm._l((_vm.filters),function(filter,i){return _c('span',{key:(\"filter-item-\" + i),staticClass:\"item badget gray\"},[_vm._v(\"\\n        \"+_vm._s(filter)+\"\\n      \")])}))]),_c('section',[_c('table',{staticClass:\"table datatable table-striped table-bordered\",attrs:{\"id\":\"datatable\"}},[_c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"140px\"}},[_c('div',{staticClass:\"checkbox checkbox-inline mr-0\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkAll),expression:\"checkAll\"}],attrs:{\"type\":\"checkbox\",\"name\":\"check-all\",\"id\":\"check-all\",\"value\":\"1\"},domProps:{\"checked\":Array.isArray(_vm.checkAll)?_vm._i(_vm.checkAll,\"1\")>-1:(_vm.checkAll)},on:{\"change\":function($event){var $$a=_vm.checkAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"1\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkAll=$$c}}}}),_c('label',{attrs:{\"for\":\"check-all\"}})]),_vm._v(\"\\n            #\\n          \")]),_c('th',{attrs:{\"width\":\"100px\"}},[_vm._v(\"姓名\")]),_c('th',[_vm._v(\"身分證\")]),_c('th',[_vm._v(\"手機\")]),_c('th',[_vm._v(\"電話\")]),_c('th',[_vm._v(\"生日\")]),_c('th',{attrs:{\"width\":\"*\"}},[_vm._v(\"住家地址\")]),_c('th',{attrs:{\"width\":\"110px\"}},[_vm._v(\"公司往來\")])])]),(_vm.tableData.length)?_c('tbody',_vm._l((_vm.tableData),function(d,did){return _c('tr',{key:(\"td-\" + did)},[_c('td',[_c('div',{staticClass:\"checkbox checkbox-inline mr-0\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selection),expression:\"selection\"}],attrs:{\"type\":\"checkbox\",\"name\":\"td-item\",\"id\":(\"check-\" + did)},domProps:{\"value\":d.id,\"checked\":Array.isArray(_vm.selection)?_vm._i(_vm.selection,d.id)>-1:(_vm.selection)},on:{\"change\":function($event){var $$a=_vm.selection,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=d.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selection=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selection=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selection=$$c}}}}),_c('label',{attrs:{\"for\":(\"check-\" + did)}})]),_c('span',{staticClass:\"no\"},[_vm._v(_vm._s(did))]),_c('span',{staticClass:\"info text-center\"},[_c('level',{attrs:{\"lv\":Number(d.vip_level)}}),_c('avatar',{attrs:{\"gender\":Number(d.sex),\"size\":20}})],1)]),_c('td',[_c('a',{staticClass:\"link text-underline\",on:{\"click\":function($event){_vm.routeToCustDetail(d.index, d.id)}}},[_vm._v(\"\\n              \"+_vm._s(d.name)+\"\\n            \")])]),_c('td',[_vm._v(_vm._s(d.id))]),_c('td',[_vm._v(_vm._s(d.mobile))]),_c('td',[_vm._v(_vm._s(d.phone))]),_c('td',[_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(d.birthday)))]),_c('div',{staticClass:\"age\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"ageCounter\")(d.birthday)))]),_vm._v(\"歲\\n            \")])]),_c('td',[_vm._v(_vm._s(d.address))]),_c('td',[_c('div',{staticClass:\"list inline\"},[_c('span',{staticClass:\"tag-box\",class:{'active': d.idmark.indexOf('1') > -1}},[_vm._v(\"\\n                要\\n              \")]),_c('span',{staticClass:\"tag-box\",class:{'active': d.idmark.indexOf('2') > -1}},[_vm._v(\"\\n                被\\n              \")]),_c('span',{staticClass:\"tag-box\",class:{'active': d.idmark.indexOf('3') > -1}},[_vm._v(\"\\n                意\\n              \")]),_c('span',{staticClass:\"tag-box\",class:{'active': d.idmark.indexOf('4') > -1}},[_vm._v(\"\\n                產\\n              \")]),_c('span',{staticClass:\"tag-box\",class:{'active': d.idmark.indexOf('5') > -1}},[_vm._v(\"\\n                團\\n              \")]),_c('span',{staticClass:\"tag-box\",class:{'active': d.idmark.indexOf('6') > -1}},[_vm._v(\"\\n                借\\n              \")])])])])})):_c('tbody',[_c('tr',[_c('td',{staticClass:\"empty-block\",attrs:{\"colspan\":\"8\"}},[_c('h3',[_vm._v(_vm._s(this.remoteDataMsg))])])])])])]),_c('section',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"}),_vm._m(0),_c('div',{staticClass:\"col-3 col-sm-4 col-md-4 text-right\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":!_vm.selection.length},on:{\"click\":function($event){_vm.panelOpen('groupModalOpen')}}},[_vm._v(\"\\n          加入群組\\n        \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":!_vm.selection.length},on:{\"click\":function($event){_vm.panelOpen('printModalOpen')}}},[_vm._v(\"\\n          列印名條\\n        \")])])])]),_c('print-modal',{attrs:{\"open\":_vm.printModalOpen,\"custs\":_vm.selection},on:{\"close\":function($event){_vm.panelClose('printModalOpen')}}}),_c('group-modal',{attrs:{\"open\":_vm.groupModalOpen,\"custs\":_vm.selection},on:{\"submit\":_vm.submitGroup,\"close\":function($event){_vm.panelClose('groupModalOpen')}}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-9 col-sm-8 col-md-8\"},[_c('div',{staticClass:\"list inline\"},[_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"tag-box\"},[_vm._v(\"要\")]),_c('small',{staticClass:\"text\"},[_vm._v(\"壽險要保人\")])]),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"tag-box\"},[_vm._v(\"被\")]),_c('small',{staticClass:\"text\"},[_vm._v(\"壽險主被保人\")])]),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"tag-box\"},[_vm._v(\"意\")]),_c('small',{staticClass:\"text\"},[_vm._v(\"意外被保險人\")])]),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"tag-box\"},[_vm._v(\"團\")]),_c('small',{staticClass:\"text\"},[_vm._v(\"團險被保人\")])]),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"tag-box\"},[_vm._v(\"借\")]),_c('small',{staticClass:\"text\"},[_vm._v(\"房貸借款人\")])]),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"tag-box\"},[_vm._v(\"產\")]),_c('small',{staticClass:\"text\"},[_vm._v(\"產險客戶\")])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"container-fluid\">\n    <section>\n      <h4 class=\"text-green\">\n        目前篩選條件\n        <button @click=\"toSearchFilter\" class=\"btn btn-default btn-sm m-0\">修改條件</button>\n      </h4>\n      <div class=\"list badgets mb-4\">\n        <span class=\"item badget gray\" v-for=\"(filter,i)  in filters\" :key=\"`filter-item-${i}`\">\n          {{filter}}\n        </span>\n      </div>\n    </section>\n    \n    <section>\n      <table id=\"datatable\" class=\"table datatable table-striped table-bordered\">\n        <thead>\n          <tr>\n            <th width=\"140px\">\n              <div class=\"checkbox checkbox-inline mr-0\">\n                <input type=\"checkbox\" name=\"check-all\" id=\"check-all\" value=\"1\" v-model=\"checkAll\">\n                <label for=\"check-all\"></label>\n              </div>\n              #\n            </th>\n            <th width=\"100px\">姓名</th>\n            <th>身分證</th>\n            <th>手機</th>\n            <th>電話</th>\n            <th>生日</th>\n            <th width=\"*\">住家地址</th>\n            <th width=\"110px\">公司往來</th>\n          </tr>\n        </thead>\n        <tbody v-if=\"tableData.length\">\n          <tr v-for=\"(d, did) in tableData\" :key=\"`td-${did}`\">\n            <td>\n              <div class=\"checkbox checkbox-inline mr-0\">\n                <input type=\"checkbox\" name=\"td-item\" :id=\"`check-${did}`\" :value=\"d.id\" v-model=\"selection\">\n                <label :for=\"`check-${did}`\"></label>\n              </div>\n              <span class=\"no\">{{did}}</span>\n              <span class=\"info text-center\">\n                <level :lv=\"Number(d.vip_level)\" />\n                <avatar :gender=\"Number(d.sex)\" :size=\"20\" />\n              </span>\n            </td>\n            <td>\n              <a\n              v-on:click=\"routeToCustDetail(d.index, d.id)\"\n              class=\"link text-underline\">\n                {{d.name}}\n              </a>\n            </td>\n            <td>{{d.id}}</td>\n            <td>{{d.mobile}}</td>\n            <td>{{d.phone}}</td>\n            <td>\n              <div class=\"date\">{{d.birthday | dateFormat}}</div>\n              <div class=\"age\">\n                <b>{{d.birthday | ageCounter}}</b>歲\n              </div>\n            </td>\n            <td>{{d.address}}</td>\n            <td>\n              <div class=\"list inline\">\n                <span\n                class=\"tag-box\"\n                :class=\"{'active': d.idmark.indexOf('1') > -1}\">\n                  要\n                </span>\n                <span\n                class=\"tag-box\"\n                :class=\"{'active': d.idmark.indexOf('2') > -1}\">\n                  被\n                </span>\n                <span\n                class=\"tag-box\"\n                :class=\"{'active': d.idmark.indexOf('3') > -1}\">\n                  意\n                </span>\n                <span\n                class=\"tag-box\"\n                :class=\"{'active': d.idmark.indexOf('4') > -1}\">\n                  產\n                </span>\n                <span\n                class=\"tag-box\"\n                :class=\"{'active': d.idmark.indexOf('5') > -1}\">\n                  團\n                </span>\n                <span\n                class=\"tag-box\"\n                :class=\"{'active': d.idmark.indexOf('6') > -1}\">\n                  借\n                </span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n        <tbody v-else>\n          <tr>\n            <td colspan=\"8\" class=\"empty-block\">\n              <h3>{{this.remoteDataMsg}}</h3>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </section>\n\n    <section>\n      <div class=\"row\">\n        <div class=\"col-12\">\n        </div>\n        <div class=\"col-9 col-sm-8 col-md-8\">\n          <div class=\"list inline\">\n            <div class=\"item\">\n              <span class=\"tag-box\">要</span>\n              <small class=\"text\">壽險要保人</small>\n            </div>\n            <div class=\"item\">\n              <span class=\"tag-box\">被</span>\n              <small class=\"text\">壽險主被保人</small>\n            </div>\n            <div class=\"item\">\n              <span class=\"tag-box\">意</span>\n              <small class=\"text\">意外被保險人</small>\n            </div>\n            <div class=\"item\">\n              <span class=\"tag-box\">團</span>\n              <small class=\"text\">團險被保人</small>\n            </div>\n            <div class=\"item\">\n              <span class=\"tag-box\">借</span>\n              <small class=\"text\">房貸借款人</small>\n            </div>\n            <div class=\"item\">\n              <span class=\"tag-box\">產</span>\n              <small class=\"text\">產險客戶</small>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-3 col-sm-4 col-md-4 text-right\">\n          <button class=\"btn btn-primary\"\n          @click=\"panelOpen('groupModalOpen')\"\n          :disabled=\"!selection.length\">\n            加入群組\n          </button>\n          <button class=\"btn btn-primary\"\n          @click=\"panelOpen('printModalOpen')\"\n          :disabled=\"!selection.length\">\n            列印名條\n          </button>\n        </div>\n      </div>\n    </section>\n\n    <print-modal\n    :open=\"printModalOpen\"\n    :custs=\"selection\"\n    @close=\"panelClose('printModalOpen')\"/>\n\n    <group-modal\n    :open=\"groupModalOpen\"\n    :custs=\"selection\"\n    @submit=\"submitGroup\"\n    @close=\"panelClose('groupModalOpen')\"/>\n  </main>\n</template>\n\n<script>\nimport {commonMixin} from '../../mixins/common'\nimport {mapActions, mapGetters} from 'vuex'\nimport PrintModal from '../components/PrintModal'\nimport GroupModal from '../components/GroupModal'\nimport Avatar from '../../components/Avatar'\nimport Level from '../../components/Level'\n\nimport { queryCustListByCustomized } from '../../service'\n\nexport default {\n  name: 'FilterResult',\n  mixins: [commonMixin],\n  watch: {\n    'checkAll': 'toggleCheckAll'\n  },\n  components: {\n    PrintModal, GroupModal, Avatar, Level\n  },\n  computed: {\n    ...mapGetters(['BaseUrl'])\n  },\n  data () {\n    return {\n      remoteDataMsg: \"資料讀取中，請稍候...\",\n      filters: [],\n      groupModalOpen: false,\n      printModalOpen: false,\n      checkAll: false,\n      selection: [],\n      customerType: ['1','2','3','4','5'],\n      tableData: [\n        // {\n        //   id: 1,\n        //   lv: 3,\n        //   gender: 0,\n        //   name: '陳怡君',\n        //   identityID: 'A123487654',\n        //   mobile: '0987654321',\n        //   phone: '02-12345678',\n        //   birthday: '19800901',\n        //   address: '台北市中山區樂群二路 187 號 6 樓之 2',\n        //   identityNote: [1,2,5,6]\n        // },\n        // {\n        //   id: 2,\n        //   lv: 2,\n        //   gender: 1,\n        //   name: '王大文',\n        //   identityID: 'K1221104567',\n        //   mobile: '0987654321',\n        //   phone: '02-12345678',\n        //   birthday: '19630120',\n        //   address: '台北市中山區樂群二路 187 號 6 樓之 2',\n        //   identityNote: [3,6]\n        // },\n        // {\n        //   id: 3,\n        //   lv: 1,\n        //   gender: 1,\n        //   name: '李澤藩',\n        //   identityID: 'I023654312',\n        //   mobile: '0987654321',\n        //   phone: '02-12345678',\n        //   birthday: '19401215',\n        //   address: '台北市中山區樂群二路 187 號 6 樓之 2',\n        //   identityNote: [1,5,6]\n        // },\n        // {\n        //   id: 4,\n        //   lv: 0,\n        //   gender: -1,\n        //   name: '劉小白',\n        //   identityID: 'A123456789',\n        //   mobile: '0987654321',\n        //   phone: '02-12345678',\n        //   birthday: '19870328',\n        //   address: '台北市中山區樂群二路 187 號 6 樓之 2',\n        //   identityNote: [1,2,3,6]\n        // },\n        // {\n        //   id: 1,\n        //   lv: 3,\n        //   gender: 0,\n        //   name: '陳怡君',\n        //   identityID: 'A123487654',\n        //   mobile: '0987654321',\n        //   phone: '02-12345678',\n        //   birthday: '19800901',\n        //   address: '台北市中山區樂群二路 187 號 6 樓之 2',\n        //   identityNote: [1,2,5,6]\n        // },\n        // {\n        //   id: 2,\n        //   lv: 2,\n        //   gender: 1,\n        //   name: '王大文',\n        //   identityID: 'K1221104567',\n        //   mobile: '0987654321',\n        //   phone: '02-12345678',\n        //   birthday: '19630120',\n        //   address: '台北市中山區樂群二路 187 號 6 樓之 2',\n        //   identityNote: [3,6]\n        // },\n        // {\n        //   id: 3,\n        //   lv: 1,\n        //   gender: 1,\n        //   name: '李澤藩',\n        //   identityID: 'I023654312',\n        //   mobile: '0987654321',\n        //   phone: '02-12345678',\n        //   birthday: '19401215',\n        //   address: '台北市中山區樂群二路 187 號 6 樓之 2',\n        //   identityNote: [1,5,6]\n        // },\n        // {\n        //   id: 4,\n        //   lv: 0,\n        //   gender: -1,\n        //   name: '劉小白',\n        //   identityID: 'A123456789',\n        //   mobile: '0987654321',\n        //   phone: '02-12345678',\n        //   birthday: '19870328',\n        //   address: '台北市中山區樂群二路 187 號 6 樓之 2',\n        //   identityNote: [1,2,3,6]\n        // }\n      ]\n    }\n  },\n  methods: {\n    ...mapActions([\n      'setPageLock' , 'updateCustID'\n    ]),\n    getCustomersAndSetup() {\n      this.selection = []\n      let conditionsObj = new Object;\n      if(this.$route.query && this.$route.query[0].field_name){\n        Object.keys(this.$route.query).map(eachKey => {\n          let eachCondition = this.$route.query[eachKey]\n          this.filters.push(eachCondition.title)\n          conditionsObj[eachCondition.field_name] = eachCondition.option\n        })\n        this.$store.dispatch('updateFilterData', this.$route.query) \n      }else{\n        Object.keys(this.$store.state.filterData).map(eachKey => {\n          let eachCondition = this.$store.state.filterData[eachKey]\n          this.filters.push(eachCondition.title)\n          conditionsObj[eachCondition.field_name] = eachCondition.option\n        })\n      }\n      this.remoteDataMsg=\"資料讀取中，請稍候...\"\n      let option_ch = this.filters.join(';')\n      queryCustListByCustomized(this.$store.state.userInfo.id, conditionsObj, option_ch).then(result => {\n        if(result.header.status && result.header.status == '200') {\n          if(result.body.customer_list && result.body.customer_list.length) {\n            this.tableData = result.body.customer_list.map(eachCust => {\n              let idmarkSource1 = eachCust.idmark.source1 && eachCust.idmark.source1 == '1' ? '1': 'N'\n              let idmarkSource2 = eachCust.idmark.source2 && eachCust.idmark.source2 == '1' ? '2': 'N'\n              let idmarkSource3 = eachCust.idmark.source3 && eachCust.idmark.source3 == '1' ? '3': 'N'\n              let idmarkSource4 = eachCust.idmark.source4 && eachCust.idmark.source4 == '1' ? '4': 'N'\n              let idmarkSource5 = eachCust.idmark.source5 && eachCust.idmark.source5 == '1' ? '5': 'N'\n              let idmarkSource6 = eachCust.idmark.source6 && eachCust.idmark.source6 == '1' ? '6': 'N'\n              return {\n                index: eachCust.index || '',\n                vip_level : Number(eachCust.vip_level) || 0,\n                sex : Number(eachCust.sex) || 0,\n                name : eachCust.name || '',\n                id : eachCust.id,\n                mobile : eachCust.mobile || '',\n                phone : eachCust.phone || '',\n                birthday : eachCust.birthday || '',\n                address : eachCust.address || '',\n                index : eachCust.index || '',\n                idmark : [idmarkSource1, idmarkSource2, idmarkSource3, idmarkSource4, idmarkSource5, idmarkSource6]\n              }\n            })\n          } else {\n            this.$toast.info({title: '查無資料'})\n          }\n        } else {\n          this.$toast.info({title: '「客戶列表」搜尋失敗'})\n        }\n        this.remoteDataMsg=\"查無資料，請確認您輸入之資料是否正確\"\n      })\n    },\n    submitGroup (group) {\n      // add group methods\n      this.panelClose('groupModalOpen')\n    },\n    toggleCheckAll (val) {\n      if (val) {\n        this.selection = this.tableData.map(item => {return item.id})\n      } else {\n        this.selection = []\n      }\n    },\n    toSearchFilter(){\n      const filterData = this.$route.query\n      this.$router.push({ path: '/search-filter', query: filterData })\n    },\n    routeToCustDetail(id, custId) {\n      this.updateCustID(custId)\n      localStorage.CustID = custId\n      this.$router.push({path: `/detail/CustID/tab/1`})\n    }\n  },\n  async mounted() {\n    this.getCustomersAndSetup()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterResult.vue?vue&type=template&id=8b152e3e&\"\nimport script from \"./FilterResult.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterResult.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"FilterResult.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",class:{'is-open': _vm.open},attrs:{\"id\":\"group-modal\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\",class:{\n      'section-loading': _vm.isLoading_1\n    }},[_c('div',{staticClass:\"modal-body\"},[_c('section',{staticClass:\"search\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-10 offset-1\"},[_c('form',{staticClass:\"form\"},[_c('div',{staticClass:\"input-group input-lg\"},[_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"keyword\",\"id\":\"keyword\",\"placeholder\":\"請以關鍵字搜尋一個群組加入或新增一個群組\"},domProps:{\"value\":(_vm.keyword)},on:{\"keyup\":function($event){_vm.findGroup()},\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary btn-icon\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.findGroup()}}},[_c('i',{staticClass:\"icon-search i-24\"})])])])])])]),_c('section',{staticClass:\"maintain\"},[_c('div',{staticClass:\"row\"},[(_vm.groupList.length)?_c('div',{staticClass:\"col-10 offset-1\"},[_c('h4',[_vm._v(_vm._s(_vm.tempSelection))]),_c('div',{staticClass:\"list recommand\"},_vm._l((_vm.groupList),function(item,rid){return _c('a',{key:(\"recommand-\" + rid),staticClass:\"item\",class:{'selected': _vm.selection!==null && _vm.selection.grp_id === item.grp_id},attrs:{\"role\":\"button\"},on:{\"click\":function($event){_vm.selectGroup(item)}}},[_c('h3',[_vm._v(_vm._s(item.grp_name))])])}))]):_c('div',{staticClass:\"col-10 offset-1 text-center\"},[_c('h3',[_vm._v(\"查無此群組名稱，請問是否新增？\")]),_c('a',{staticClass:\"btn btn-border-green\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){_vm.addNewGroup()}}},[_c('i',{staticClass:\"icon-add_new\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"新增群組「\"+_vm._s(_vm.keyword)+\"」\")])])])])]),_c('section',{staticClass:\"action text-right\"},[(_vm.error)?_c('div',{staticClass:\"error-block\"},[_c('span',{staticClass:\"error text-center\"},[_vm._v(\"\\n              請先選擇一個欲加入的群組名稱。\\n            \")])]):_vm._e(),_c('a',{staticClass:\"btn btn-default\",on:{\"click\":_vm.doCancel}},[_vm._v(\"\\n            取消\\n          \")]),_c('a',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.doSubmit}},[_vm._v(\"\\n            確認\\n          \")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"group-modal\" class=\"modal fade\" :class=\"{'is-open': open}\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\"\n      :class=\"{\n        'section-loading': isLoading_1\n      }\">\n        <div class=\"modal-body\">\n          <section class=\"search\">\n            <div class=\"row\">\n              <div class=\"col-10 offset-1\">\n                <form class=\"form\">\n                  <div class=\"input-group input-lg\">\n                    <div class=\"input\">\n                      <input\n                      type=\"text\"\n                      name=\"keyword\"\n                      id=\"keyword\"\n                      class=\"form-control\"\n                      @keyup=\"findGroup()\"\n                      v-model=\"keyword\"\n                      placeholder=\"請以關鍵字搜尋一個群組加入或新增一個群組\">\n                    </div>\n                    <button\n                    class=\"btn btn-primary btn-icon\"\n                    type=\"submit\"\n                    @click.stop.prevent=\"findGroup()\">\n                      <i class=\"icon-search i-24\"></i>\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </section>\n          <section class=\"maintain\">\n            <div class=\"row\">\n              <div class=\"col-10 offset-1\" v-if=\"groupList.length\">\n                <h4>{{tempSelection}}</h4>\n                <div class=\"list recommand\">\n                  <a role=\"button\" class=\"item\"\n                  :class=\"{'selected': selection!==null && selection.grp_id === item.grp_id}\"\n                  @click=\"selectGroup(item)\"\n                  v-for=\"(item, rid) in groupList\" :key=\"`recommand-${rid}`\">\n                    <h3>{{item.grp_name}}</h3>\n                  </a>\n                </div>\n              </div>\n              <div class=\"col-10 offset-1 text-center\" v-else>\n                <h3>查無此群組名稱，請問是否新增？</h3>\n                <a role=\"button\" class=\"btn btn-border-green\"\n                @click=\"addNewGroup()\">\n                  <i class=\"icon-add_new\"></i>\n                  <span class=\"text\">新增群組「{{keyword}}」</span>\n                </a>\n              </div>\n            </div>\n          </section>\n          <section class=\"action text-right\">\n            <div class=\"error-block\" v-if=\"error\">\n              <span class=\"error text-center\">\n                請先選擇一個欲加入的群組名稱。\n              </span>\n            </div>\n            <a\n            class=\"btn btn-default\"\n            @click=\"doCancel\">\n              取消\n            </a>\n            <a\n            class=\"btn btn-primary\"\n            @click=\"doSubmit\">\n              確認\n            </a>\n          </section>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { getGroupOfAgnt } from '../../service';\nimport { updateGroup } from '../../service';\nimport { getCustInfo } from '../../service';\n\nimport { getGroupMember } from '../../service';\nimport { updateGrpMem } from '../../service';\nimport { log } from 'util';\n// const recommandList = [\n//   {\n//     grp_name: '滿期年金',\n//     grp_id: '001'\n//   }\n// ]\n\nexport default {\n  name: 'GroupModal',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    custs:{\n      type: Array\n    }, \n    currentPage:{\n      type: String, \n      default:''\n    }\n  },\n  data () {\n    return {\n      error: false,\n      isLoading_1: false,\n      keyword: '',\n      recommandList: [],\n      groupList: [],\n      selection: null,\n      tempSelection: null,\n      selectedMemOri: []\n    }\n  },\n  watch: {\n    'keyword': 'initList',\n    'open': 'getAllGroup'\n  },\n  methods: {\n    getAllGroup() {\n      if(this.open) {\n        this.isLoading_1 = true\n        getGroupOfAgnt(this.$store.state.userInfo.id, this.$store.state.userInfo.id).then(result => {\n          if(result.body.groups && result.body.groups.length > 0) {\n            this.recommandList = result.body.groups.map(item => {\n              return {\n                grp_id : item.grp_id,\n                grp_name: item.grp_name\n              }\n            })\n            this.groupList = this.recommandList.map(item => item)\n            if(this.keyword != '') {\n              this.groupList.forEach(item => {\n                if(this.keyword === item.grp_name) {\n                  this.selectGroup(item)\n                  this.keyword = ''\n                }\n              });\n            }\n            // this.groupList = window._.clone(this.recommandList)\n\n          } else {\n            this.recommandList = []\n            this.groupList = []\n          }\n          this.isLoading_1 = false\n        })\n      }\n    },\n    initList () {\n      this.groupList = this.recommandList.map(item => item)\n      // this.groupList = window._.clone(this.recommandList)\n    },\n    findGroup () {\n      if (this.keyword === '') {\n        this.initList()\n      } else {\n        this.groupList = this.recommandList.filter(item => {\n          return item.grp_name.indexOf(this.keyword) > -1\n        })\n      }\n    },\n    select (item) {\n      console.log(item)\n      this.selection = item\n    },\n    addNewGroup () {\n      let $this = this;\n      $this.isLoading_1 = true\n      let insertList = [];\n      for(let i = 1; i<$this.custs.length+1; i++){\n        let selectID = $this.custs[i-1]\n        if($this.selectedMemOri.indexOf(selectID) == -1) {\n          let insertMap = {}\n          insertMap['identity'] = selectID\n          insertList[i] = insertMap\n        }\n      }\n\n      if($this.currentPage === 'customerCreate') {\n        insertList = [];\n      } \n      updateGroup(this.$store.state.userInfo.id, null, $this.keyword, insertList).then(result => {\n        // $this.keyword = ''\n        if(result.header.status == 200) {\n          if($this.currentPage === 'customerCreate') {\n            this.$toast.info({title: `已新增「${$this.keyword}」群組`})   \n          } else {\n            \n            this.$toast.info({title: `已新增「${$this.keyword}」群組`})   \n          }\n        } else {\n          \n          if(result.body.errList) {\n            let errList = result.body.errList || []\n\n            this.$emit('showError', errList)\n          } else {\n              this.$toast.info({title: result.header.message})    \n          }\n\n        }\n        \n        $this.getAllGroup()\n      })\n      $this.isLoading_1 = false\n    },\n    doSubmit () {\n      let $this = this\n\n      if($this.currentPage === 'customerCreate') {\n        this.$emit('submit', this.selection)\n      } else {\n\n        if(!this.selection) {\n          this.error = true\n        } else {\n          getGroupMember(this.$store.state.userInfo.id, this.selection.grp_id).then(result => {\n            if(result) {\n              this.selectedMemOri = result.map(cust => {\n                return cust.id\n              })\n            } else {\n              this.selectedMemOri = []\n              this.unselectedMemOri = this.custsOfAgnt.map(cust => cust)\n            }\n            let totalLength = this.selectedMemOri.length;\n            for(let i = 1; i<$this.custs.length+1; i++){\n              let selectID = $this.custs[i-1]\n              if($this.selectedMemOri.indexOf(selectID) == -1) {\n                $this.selectedMemOri[totalLength+i] = $this.custs[i-1]\n              }\n              \n            }\n            \n            //更新群組\n            updateGrpMem(this.$store.state.userInfo.id, this.selection.grp_id, this.selection.grp_name, this.selectedMemOri).then(result => {\n\n              if(result.header.status == 200) {\n                this.$toast.info({title: `已更新「${this.selection.grp_name}」群組`})    \n              } else {\n                \n                if(result.body.errList) {\n                  let errList = result.body.errList || []\n\n                  this.$emit('showError', errList)\n                } else {\n                    this.$toast.info({title: result.header.message})    \n                } \n              }\n              \n            })\n          })\n        }\n        this.$emit('close')\n\n      }\n    },\n    selectGroup (group) {\n      this.selection = group\n    },\n    doCancel() {\n      this.selection = []\n      this.$emit('close')\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GroupModal.vue?vue&type=template&id=1c328027&\"\nimport script from \"./GroupModal.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"GroupModal.vue\"\nexport default component.exports","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n"],"sourceRoot":""}