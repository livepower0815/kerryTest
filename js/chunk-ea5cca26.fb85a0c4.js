(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea5cca26"],{"0a16":function(t,e,a){},2628:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",class:{"is-open":t.open}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("a",{staticClass:"close",on:{click:function(e){t.$emit("close")}}},[a("i",{staticClass:"icon-close"})]),a("h3",{staticClass:"modal-title"},[t._v(t._s(t.group.grp_name)+" 群組")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"button-grid p-0 four-items"},t._l(t.memberList,function(e,i){return a("a",{key:"member-btn-"+i,staticClass:"btn btn-border-green",on:{click:function(a){t.$emit("selectMem",{index:i,csid:e.id})}}},[t._v("\n            "+t._s(e.name)+"("+t._s(t._f("ageCounter")(e.birthday))+"歲)\n          ")])}))])])])])},s=[],n={name:"GroupModal",props:{open:{type:Boolean,default:!1},group:{type:Object,default:function(){return{}}},memberList:{type:Array,default:function(){return[]}}}},l=n,r=a("2877"),o=Object(r["a"])(l,i,s,!1,null,null,null);o.options.__file="GroupMemberModal.vue";e["a"]=o.exports},"28fe":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.lv>0?a("img",{staticClass:"lv",attrs:{src:7===t.lv?t.BaseUrl+"assets/label_diamond.png":6===t.lv?t.BaseUrl+"assets/label_platinum.png":t.BaseUrl+"assets/label_gold.png",srcset:7===t.lv?t.BaseUrl+"assets/label_diamond@2x.png":6===t.lv?t.BaseUrl+"assets/label_platinum@2x.png":t.BaseUrl+"assets/label_gold@2x.png",width:t.size}}):t._e()},s=[],n=(a("c5f6"),a("be94")),l=a("2f62"),r={name:"Level",computed:Object(n["a"])({},Object(l["c"])(["BaseUrl"])),props:{lv:{type:Number,default:0},size:{type:Number,default:30}}},o=r,c=a("2877"),d=Object(c["a"])(o,i,s,!1,null,null,null);d.options.__file="Level.vue";e["a"]=d.exports},"2f21":function(t,e,a){"use strict";var i=a("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},"2fdb":function(t,e,a){"use strict";var i=a("5ca1"),s=a("d2c8"),n="includes";i(i.P+i.F*a("5147")(n),"String",{includes:function(t){return!!~s(this,t,n).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,e,a){var i=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[i]=!1,!"/./"[t](e)}catch(s){}}return!0}},"55dd":function(t,e,a){"use strict";var i=a("5ca1"),s=a("d8e8"),n=a("4bf8"),l=a("79e5"),r=[].sort,o=[1,2,3];i(i.P+i.F*(l(function(){o.sort(void 0)})||!l(function(){o.sort(null)})||!a("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(n(this)):r.call(n(this),s(t))}})},"5f9d":function(t,e,a){"use strict";var i=a("0a16"),s=a.n(i);s.a},6762:function(t,e,a){"use strict";var i=a("5ca1"),s=a("c366")(!0);i(i.P,"Array",{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"7f7e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("customer-info",{attrs:{loading:!1}}),t._m(0),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"tab-pane active show",attrs:{id:"tab-0",role:"tabpanel"}},[a("div",{staticClass:"row with-divider"},[t._m(1),a("div",{staticClass:"col-5"},[a("h4",{staticClass:"text-green mt-0"},[t._v("服務申辦項目")]),a("div",{staticClass:"button-grid cards two-card px-0 pb-0"},t._l(t.serviceItems,function(e,i){return a("a",{key:"notification-item-"+i,staticClass:"card text-center no-shadow",class:0===e.status?"disabled":""},[a("h6",{staticClass:"m-0"},[t._v(t._s(e.name))]),0!=e.status?a("small",{staticClass:"text-orange mt-1"},[t._v("\n                  "+t._s(e.status)+"\n                ")]):a("small",{staticClass:"text-red text-thin mt-1"},[t._v("尚未申辦")])])})),t.serviceNotification.length&&t.serviceNotification.length>6?a("div",[t.serviceNotificationCollapse?a("a",{staticClass:"link text-underline collapse-item",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.serviceNotificationCollapse=!1}}},[t._v("\n                收合顯示 "),a("i",{staticClass:"icon-collapse_up"})]):a("a",{staticClass:"link text-underline collapse-item",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.serviceNotificationCollapse=!0}}},[t._v("\n                顯示更多 "),a("i",{staticClass:"icon-collapse_down"})])]):t._e(),a("h4",{staticClass:"text-green"},[t._v("行銷目標通知")]),t.saleNotification.length?a("div",{staticClass:"button-grid two-items px-0 pb-0"},t._l(t.saleNotification,function(e,i){return a("a",{directives:[{name:"show",rawName:"v-show",value:t.saleNotificationCollapse||!t.saleNotificationCollapse&&i<6,expression:"saleNotificationCollapse || (!saleNotificationCollapse && bid < 6)"}],key:"sale-item-"+i,staticClass:"btn btn-border-green"},[t._v("\n                "+t._s(e)+"\n              ")])})):a("div",{staticClass:"mt-3"},[a("div",{staticClass:"gray-block"},[t._v("目前沒有任何通知")])]),t.saleNotification.length&&t.saleNotification.length>6?a("div",[t.saleNotificationCollapse?a("a",{staticClass:"link text-underline collapse-item",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.saleNotificationCollapse=!1}}},[t._v("\n                收合顯示 "),a("i",{staticClass:"icon-collapse_up"})]):a("a",{staticClass:"link text-underline collapse-item",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.saleNotificationCollapse=!0}}},[t._v("\n                顯示更多 "),a("i",{staticClass:"icon-collapse_down"})])]):t._e(),t._m(2),t.group.length?a("div",{staticClass:"button-grid two-items px-0 pb-0"},t._l(t.group,function(e,i){return a("a",{directives:[{name:"show",rawName:"v-show",value:t.groupCollapse||!t.groupCollapse&&i<6,expression:"groupCollapse || (!groupCollapse && bid < 6)"}],key:"group-item-"+i,staticClass:"btn btn-border-green",on:{click:function(a){t.selectGroup(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])})):a("div",{staticClass:"mt-3"},[a("div",{staticClass:"gray-block"},[t._v("目前不屬於任何群組")])]),t.group.length&&t.group.length>6?a("div",[t.groupCollapse?a("a",{staticClass:"link text-underline collapse-item",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.groupCollapse=!1}}},[t._v("\n                收合顯示 "),a("i",{staticClass:"icon-collapse_up"})]):a("a",{staticClass:"link text-underline collapse-item",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.groupCollapse=!0}}},[t._v("\n                顯示更多 "),a("i",{staticClass:"icon-collapse_down"})])]):t._e()])])]),a("div",{staticClass:"tab-pane",attrs:{id:"tab-1",role:"tabpanel"}},[t.customer.family.length||t.familyEditing?a("div",[t.familyEditing?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mb-3 text-right"},[t.oldFamily.leader?a("a",{staticClass:"btn btn-default btn-sm m-0 mr-2",attrs:{disabled:t.oldFamily.leader&&!t.customer.family.length},on:{click:function(e){t.beforeClearFamily()}}},[t._v("\n                刪除家戶\n              ")]):t._e(),a("a",{staticClass:"btn btn-default btn-sm m-0 mr-2",on:{click:function(e){t.cancelFamilyEdit()}}},[t._v("\n                取消\n              ")]),a("a",{staticClass:"btn btn-primary btn-sm m-0 mr-2",on:{click:function(e){t.submitFamilyEdit()}}},[t._v("\n                儲存\n              ")])])]):a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mb-3"},[a("a",{staticClass:"btn btn-default btn-sm btn-icon m-0 float-right",on:{click:function(e){t.editFamily()}}},[a("i",{staticClass:"icon-edit"})])])]),a("div",{staticClass:"cards family"},[t._l(t.customer.family,function(e,i){return a("div",{key:"family-card-"+i,staticClass:"card"},[t.familyEditing&&i>0&&!e.currentCustomer?a("a",{staticClass:"close",on:{click:function(a){t.removeMember(i,e)}}},[a("i",{staticClass:"icon-close"})]):t._e(),e.link?a("h3",[a("router-link",{staticClass:"link text-underline",attrs:{to:"/detail/1/empty"}},[t._v("\n                  "+t._s(e.name)+"\n                ")])],1):a("h3",[t._v(t._s(e.name))]),a("div",{staticClass:"content"},[a("div",{staticClass:"desc role"},[a("avatar",{attrs:{lv:t.customer.info.gender,size:20}}),t.familyEditing&&i>0?a("span",{staticClass:"text"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"card.role"}],staticClass:"form-control form-control-inline form-short",on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e,"role",a.target.multiple?i:i[0])}}},t._l(t.roleOpt,function(e,i){return a("option",{key:"role-select-"+i},[t._v("\n                        "+t._s(e)+"\n                      ")])}))]):a("span",{staticClass:"text"},[t._v("\n                    "+t._s(e.role)+"\n                  ")])],1)]),a("div",{staticClass:"desc"},[t._v(t._s(e.identity))]),a("div",{staticClass:"desc"},[a("b",{staticClass:"float-right"},[t._v(t._s(t._f("ageCounter")(e.birthday))+"歲")]),t._v("\n                "+t._s(t._f("dateFormat")(e.birthday))+"\n              ")])])}),t.familyEditing&&t.customer.family.length?a("div",{staticClass:"card add",on:{click:function(e){t.panelOpen("addFamilyModalOpen")}}},[t._m(3),a("div",{staticClass:"p"},[t._v("新增家戶成員")])]):t._e()],2)]):a("div",{staticClass:"empty-block bg-white"},[a("h3",[t._v(t._s(t.customer.info.name)+"尚未屬於任何一個帳戶")]),a("a",{staticClass:"btn btn-primary",on:{click:function(e){t.panelOpen("familyModalOpen")}}},[t._v("\n            加入現有家戶\n          ")]),a("a",{staticClass:"btn btn-primary",on:{click:function(e){t.initFamily()}}},[t._v("\n            成立新的家戶\n          ")])])]),a("div",{staticClass:"tab-pane",attrs:{id:"tab-2",role:"tabpanel"}}),a("div",{staticClass:"tab-pane",attrs:{id:"tab-3",role:"tabpanel"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"radio radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceFilter,expression:"insuranceFilter"}],attrs:{type:"radio",name:"filter",id:"filter-1",value:"0"},domProps:{checked:t._q(t.insuranceFilter,"0")},on:{change:function(e){t.insuranceFilter="0"}}}),a("label",{attrs:{for:"filter-1"}},[t._v("全部保單")])]),a("div",{staticClass:"radio radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceFilter,expression:"insuranceFilter"}],attrs:{type:"radio",name:"filter",id:"filter-2",value:"1"},domProps:{checked:t._q(t.insuranceFilter,"1")},on:{change:function(e){t.insuranceFilter="1"}}}),a("label",{attrs:{for:"filter-2"}},[t._v("資產檢視")])]),a("div",{staticClass:"radio radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.insuranceFilter,expression:"insuranceFilter"}],attrs:{type:"radio",name:"filter",id:"filter-3",value:"2"},domProps:{checked:t._q(t.insuranceFilter,"2")},on:{change:function(e){t.insuranceFilter="2"}}}),a("label",{attrs:{for:"filter-3"}},[t._v("保障檢視")])])]),t._m(4)]),t._m(5)]),a("div",{staticClass:"tab-pane",attrs:{id:"tab-4",role:"tabpanel"}}),a("div",{staticClass:"tab-pane",attrs:{id:"tab-5",role:"tabpanel"}})])]),a("warning-modal",{attrs:{open:t.warningModalOpen,message:t.warningData[t.currentWarningType].message},on:{close:function(e){t.panelClose("warningModalOpen")},submit:t.warningSubmit}}),a("family-modal",{attrs:{open:t.familyModalOpen},on:{close:function(e){t.panelClose("familyModalOpen")},submit:t.submitFamily}}),a("group-member-modal",{attrs:{open:t.groupModalOpen,group:t.selectedGroup},on:{close:function(e){t.panelClose("groupModalOpen")}}}),a("add-family-modal",{attrs:{open:t.addFamilyModalOpen,customer:t.customer.info},on:{close:function(e){t.panelClose("addFamilyModalOpen")},submit:t.submitAddFamily}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-header"},[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active show",attrs:{href:"#tab-0",role:"tab","data-toggle":"tab"}},[t._v("基本資料")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#tab-1",role:"tab","data-toggle":"tab"}},[t._v("家戶關係")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#tab-2",role:"tab","data-toggle":"tab"}},[t._v("紀錄簿")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#tab-3",role:"tab","data-toggle":"tab"}},[t._v("保單資訊")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#tab-4",role:"tab","data-toggle":"tab"}},[t._v("服務歷程")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#tab-5",role:"tab","data-toggle":"tab"}},[t._v("申辦進度")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-7"},[a("h4",{staticClass:"text-green mt-0"},[a("a",{staticClass:"btn btn-default btn-icon btn-sm float-right m-0",attrs:{role:"button"}},[a("i",{staticClass:"icon-edit"})]),t._v("\n              個人資訊\n            ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("身份註記")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("LINE ID")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("職業")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("服務單位")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("婚姻")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("客戶關係")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("Email")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("介紹人")]),a("div",{staticClass:"col-8 text"},[t._v("\n                    — —\n                  ")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("學歷")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])])])]),a("hr"),a("h4",{staticClass:"text-green"},[t._v("拒絕行銷")]),a("div",{staticClass:"row px-5"},[a("div",{staticClass:"col-4 sale-item"},[a("i",{staticClass:"icon-check"}),a("span",{staticClass:"text"},[t._v("簡訊行銷")])]),a("div",{staticClass:"col-4 sale-item"},[a("i",{staticClass:"icon-check"}),a("span",{staticClass:"text"},[t._v("電話行銷")])]),a("div",{staticClass:"col-4 sale-item"},[a("i",{staticClass:"icon-check"}),a("span",{staticClass:"text"},[t._v("Email行銷")])]),a("div",{staticClass:"col-4 sale-item"},[a("i",{staticClass:"icon-check"}),a("span",{staticClass:"text"},[t._v("郵寄行銷")])]),a("div",{staticClass:"col-8 sale-item"},[a("i",{staticClass:"icon-check"}),a("span",{staticClass:"text"},[t._v("業務人員行銷(非經手或服務人員)")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"error-block text-center"},[a("span",{staticClass:"error"},[a("span",{staticClass:"text-red"},[t._v("＊")]),a("span",{staticClass:"text-black"},[t._v("此客戶拒絕共同行銷")])])])])]),a("hr"),a("h4",{staticClass:"text-green"},[a("a",{staticClass:"btn btn-default btn-icon btn-sm float-right m-0",attrs:{role:"button"}},[a("i",{staticClass:"icon-edit"})]),t._v("\n              財務狀況\n            ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"item row"},[a("div",{staticClass:"col-5 label"},[t._v("家庭年收入")]),a("div",{staticClass:"col-7 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-5 label"},[t._v("個人年所得")]),a("div",{staticClass:"col-7 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-5 label"},[t._v("月平均投資")]),a("div",{staticClass:"col-7 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-5 label"},[t._v("理財工具")]),a("div",{staticClass:"col-7 text"},[t._v("— —")])])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("房貸金額")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("住屋狀況")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])]),a("div",{staticClass:"item row"},[a("div",{staticClass:"col-4 label"},[t._v("交通工具")]),a("div",{staticClass:"col-8 text"},[t._v("— —")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"text-green"},[a("a",{staticClass:"btn btn-default btn-icon btn-sm float-right m-0",attrs:{role:"button"}},[a("i",{staticClass:"icon-edit"})]),t._v("\n              群組\n            ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("i",{staticClass:"icon-add_new text-orange i-32"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-4 text-right"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{disabled:""}},[t._v("編輯保單")]),a("button",{staticClass:"btn btn-sm btn-primary mr-0",attrs:{disabled:""}},[t._v("全部展開")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty"},[a("h3",{staticClass:"text-gray text-center"},[t._v("此客戶尚未有任何保單資訊")])])}],n=(a("96cf"),a("1da1")),l=(a("7f7f"),a("be94")),r=a("2f62"),o=a("872c"),c=a("28fe"),d=a("df3a"),m=a("2628"),u=a("cf24"),v=a("881e"),f=a("91d3"),p=a("8e44"),h={info:{lv:0,gender:-1,birthday:"",name:"林怡君",mobile:"",familyLeader:!1,phone:"02-28223521",fax:"",ID:"",office_phone:"",address:"",office_address:""},iaa:{mobile:"0922133647",phone:"02-28223521",address:"112 台北市北投區光明路251號",email:"Green@tree.com.tw"},decline:[],family:[]},b={name:"CustomerDetail",mixins:[o["a"]],computed:Object(l["a"])({},Object(r["c"])(["BaseUrl"])),data:function(){return{insuranceFilter:0,currentTab:0,customer:h,familyEditing:!1,oldFamily:[],serviceNotificationCollapse:!1,saleNotificationCollapse:!1,groupCollapse:!1,warningModalOpen:!1,addFamilyModalOpen:!1,familyModalOpen:!1,groupModalOpen:!1,selectedGroup:null,serviceNotification:[],saleNotification:[],currentDelIndex:0,currentWarningType:"delFamily",warningData:{delFamily:{message:"您是否確認要刪除家戶成員 簡沛文 ，若確定刪除，則簡沛文 需重新歸戶。",submit:"delFamily"},clearFamily:{message:"您是否確認要刪除以 <b></b> 為戶長之家戶，若確定刪除，則原家戶成員皆須重新歸戶。",submit:"clearFamily"},becomeLeader:{message:"是否確認要修改 <b></b> 的家戶關係？",submit:"becomeLeader"}},serviceItems:[{name:"網路服務線上變更",status:0},{name:"行動服務",status:0},{name:"一指通",status:0},{name:"電子單據",status:0},{name:"轉帳申請",status:0},{name:"易call保",status:0},{name:"保單貸款",status:0},{name:"理賠抵繳",status:0}],group:[],roleOpt:["戶長","配偶","子女","其他"]}},components:{GroupMemberModal:m["a"],FamilyModal:u["a"],WarningModal:f["a"],AddFamilyModal:v["a"],Level:c["a"],Avatar:d["a"]},methods:Object(l["a"])({},Object(r["b"])(["setPageLock"]),{removeMember:function(t,e){this.currentDelIndex=t,this.currentWarningType="delFamily",this.warningData[this.currentWarningType].message='您是否確認要刪除家戶成員 <a class="link text-underline">'.concat(e.name,'<a/> ，若確定刪除，則<a class="link text-underline">').concat(e.name,"<a/> 需重新歸戶。"),this.panelOpen("warningModalOpen")},warningSubmit:function(){var t=this.warningData[this.currentWarningType].submit;this[t](),this.panelClose("warningModalOpen")},delFamily:function(){this.customer.family.splice(this.currentDelIndex,1)},initFamily:function(){this.recordOrResetFamily(),this.familyEditing=!0;var t=[{link:1,name:this.customer.info.name,gender:0,identity:"A223456789",role:"戶長",birthday:"19600809",currentCustomer:!0}];this.customer.info.familyLeader=!0,this.customer.family=t},submitAddFamily:function(t){this.customer.family=this.customer.family.concat(t),this.panelClose("addFamilyModalOpen")},submitFamily:function(t){this.recordOrResetFamily(),this.familyEditing=!0;var e=[{link:1,name:"陳怡君",gender:0,identity:"A223456789",role:"戶長",birthday:"19600809"},{name:"王大進",gender:1,identity:"A223456789",role:"配偶",birthday:"19600809"},{name:"王潔心",gender:0,identity:"A223456789",role:"子女",birthday:"19600809"},{name:"簡沛文",gender:-1,identity:"A223456789",role:"其他",birthday:"19600809"},{link:1,name:"陳潔妮",gender:-1,identity:"A223456789",role:"其他",birthday:"19600809"},{name:"端木王大進",gender:-1,identity:"A223456789",role:"其他",birthday:"19600809"}];e.push({link:1,name:this.customer.info.name,gender:0,identity:"A223456789",role:"其他",birthday:"19600809",currentCustomer:!0}),this.customer.info.familyLeader=!1,this.customer.family=e,this.panelClose("familyModalOpen")},beforeClearFamily:function(){this.currentWarningType="clearFamily",this.warningData.clearFamily.message="您是否確認要刪除以 <b>".concat(h.info.name,"</b> 為戶長之家戶，若確定刪除，則原家戶成員皆須重新歸戶。"),this.panelOpen("warningModalOpen")},clearFamily:function(){this.recordOrResetFamily(),this.familyEditing=!0,this.customer.family=[],this.customer.info.familyLeader=!1,this.panelClose("warningModalOpen")},recordOrResetFamily:function(t){t?(this.customer.info.familyLeader=this.oldFamily.leader,this.customer.family=this.oldFamily.family):this.oldFamily={leader:window._.clone(this.customer.info.familyLeader),family:window._.clone(this.customer.family)}},cancelFamilyEdit:function(){this.recordOrResetFamily(!0),this.familyEditing=!1},becomeLeader:function(){this.panelClose("warningModalOpen"),this.familyEditing=!1},submitFamilyEdit:function(){!this.oldFamily.leader&&this.customer.info.familyLeader?(this.warningData.becomeLeader.message="是否確認要修改<b>".concat(this.customer.info.name,"</b> 的家戶關係？"),this.currentWarningType="becomeLeader",this.panelOpen("warningModalOpen")):this.familyEditing=!1},editFamily:function(){this.recordOrResetFamily(),this.familyEditing=!0},selectGroup:function(t){this.selectedGroup=t,this.panelOpen("groupModalOpen")}}),mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["A"])(this.$route.params.id).then(function(t){e.customer.info=t[0]});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},y=b,C=a("2877"),_=Object(C["a"])(y,i,s,!1,null,null,null);_.options.__file="CustomerDetailEmpty.vue";e["default"]=_.exports},"881e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",class:{"is-open":t.open}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row my-4"},[a("div",{staticClass:"col-12"},[a("form",{staticClass:"form"},[a("div",{staticClass:"input-group input-lg"},[a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",name:"keyword",id:"keyword",placeholder:"輸入姓名、身分證或保單號碼進行搜尋..."},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-icon",attrs:{type:"submit"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.doSearch()}}},[a("i",{staticClass:"icon-search i-24"})])])])])]),a("div",{staticClass:"row row-tables newTable"},[a("div",{staticClass:"col-table pr-0"},[a("h5",[t._v("可選擇的客戶名單")]),a("table",{staticClass:"table datatable insurance-green",attrs:{id:"customer-list"}},[a("thead",[a("tr",[a("th",{attrs:{width:Math.floor(344*.28)+"px"},on:{click:function(e){t.sortArray("unselected","name")}}},[t._v("姓名")]),a("th",{attrs:{width:Math.floor(103.2)+"px"},on:{click:function(e){t.sortArray("unselected","identity")}}},[t._v("身分證")]),a("th",{attrs:{width:Math.floor(86)+"px"},on:{click:function(e){t.sortArray("unselected","birthday")}}},[t._v("生日")]),a("th")])]),a("tbody",t._l(t.families,function(e,i){return a("tr",{key:"familiy-item-"+i},[a("td",{attrs:{width:Math.floor(344*.28)+"px"}},[t._v(t._s(e.name))]),a("td",{attrs:{width:Math.floor(103.2)+"px"}},[t._v(t._s(e.identity))]),a("td",{attrs:{width:Math.floor(86)+"px"}},[t._v(t._s(t._f("dateFormat")(e.birthday)))]),a("td",[a("a",{staticClass:"text-orange",on:{click:function(e){t.addGroup(i)}}},[a("i",{staticClass:"icon-add_new i-20"})])])])}))])]),t._m(0),a("div",{staticClass:"col-table "},[a("h5",[t._v("選擇加入 "),a("a",{staticClass:"link text-underline"},[t._v(t._s(t.customer.name))]),t._v(" 家戶的名單")]),a("table",{staticClass:"table datatable insurance-green",attrs:{id:"new-group-list"}},[a("thead",[a("tr",[a("th",{attrs:{width:Math.floor(344*.28)+"px"},on:{click:function(e){t.sortArray("selected","name")}}},[t._v("姓名")]),a("th",{attrs:{width:Math.floor(103.2)+"px"},on:{click:function(e){t.sortArray("selected","identity")}}},[t._v("身分證")]),a("th",{attrs:{width:Math.floor(86)+"px"},on:{click:function(e){t.sortArray("selected","birthday")}}},[t._v("生日")]),a("th")])]),a("tbody",t._l(t.selectedFamily,function(e,i){return a("tr",{key:"familiy-item-"+i},[a("td",{attrs:{width:Math.floor(344*.28)+"px"}},[t._v(t._s(e.name))]),a("td",{attrs:{width:Math.floor(103.2)+"px"}},[t._v(t._s(e.identity))]),a("td",{attrs:{width:Math.floor(86)+"px"}},[t._v(t._s(t._f("dateFormat")(e.birthday)))]),a("td",[a("a",{staticClass:"text-red",on:{click:function(e){t.removeGroup(i)}}},[a("i",{staticClass:"icon-trashcan i-20"})])])])}))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"actions text-right mt-4"},[a("a",{staticClass:"btn btn-default",on:{click:function(e){t.$emit("close")}}},[t._v("取消加入")]),a("a",{staticClass:"btn btn-primary",on:{click:function(e){t.$emit("submit",t.selectedFamily)}}},[t._v("加入此家戶")])])])])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"px-2 text-light-green text-center col-split"},[a("i",{staticClass:"icon-forward"})])}],n=(a("7f7f"),a("6762"),a("2fdb"),a("55dd"),[{name:"盧筱曉",gender:0,role:"其他",identity:"A223456789",birthday:"19700201"},{name:"吳法渡",gender:1,role:"其他",identity:"A223456789",birthday:"19860630"},{name:"伊啔徠",gender:1,role:"其他",identity:"A223456789",birthday:"19760630"},{name:"陳名醫",gender:0,role:"其他",identity:"A223456789",birthday:"19800630"},{name:"林家豪",gender:1,role:"其他",identity:"A223456789",birthday:"19820630"},{name:"林志明",gender:1,role:"其他",identity:"A223456789",birthday:"19660630"},{name:"林一明",gender:0,role:"其他",identity:"A223456789",birthday:"19860630"},{name:"林名醫",gender:1,role:"其他",identity:"A223456789",birthday:"19770630"},{name:"王家豪",gender:1,role:"其他",identity:"A223456789",birthday:"19820630"},{name:"王志明",gender:1,role:"其他",identity:"A223456789",birthday:"19660630"},{name:"王一明",gender:1,role:"其他",identity:"A223456789",birthday:"19860630"},{name:"王名醫",gender:1,role:"其他",identity:"A223456789",birthday:"19770630"}]),l={name:"AddFamilyModal",props:{open:{type:Boolean,default:!1},customer:{type:Object,default:function(){return{name:""}}}},watch:{open:"modalChange"},data:function(){return{keyword:"",customerTable:null,selectedTable:null,selectedFamily:[],families:n,unselectedSort:!0}},methods:{addGroup:function(t){this.selectedFamily.push(this.families.splice(t,1)[0]),this.sortArray()},removeGroup:function(t){this.families.push(this.selectedFamily.splice(t,1)[0]),this.sortArray()},sortArray:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name";"unselected"===t?this.unselectedSort&&this.unselectedItem===e?(this.unselectedSort=!this.unselectedSort,this.families=this.families.sort(function(t,a){return a[e]>=t[e]?1:-1})):(this.unselectedItem=e,this.unselectedSort=!0,this.families=this.families.sort(function(t,a){return t[e]>=a[e]?1:-1})):"selected"===t?this.selectedSort&&this.selectedItem===e?(this.selectedSort=!this.selectedSort,this.selectedFamily=this.selectedFamily.sort(function(t,a){return a[e]>=t[e]?1:-1})):(this.selectedItem=e,this.selectedSort=!0,this.selectedFamily=this.selectedFamily.sort(function(t,a){return t[e]>=a[e]?1:-1})):(this.families=this.families.sort(function(t,a){return t[e]>=a[e]?1:-1}),this.selectedFamily=this.selectedFamily.sort(function(t,a){return t[e]>=a[e]?1:-1}))},refreshData:function(){this.families=this.filterOutById(this.custsOfAgnt,this.custsOfGrp),this.selectedFamily=this.custsOfGrp,this.sortArray()},doSearch:function(){var t=this;if(""!=this.keyword.trim()){var e=this.custsOfAgnt.filter(function(e){return e.name.includes(t.keyword)||e.identity.includes(t.keyword)});this.families=this.filterOutById(e,this.selectedFamily)}else this.families=this.filterOutById(this.custsOfAgnt,this.selectedFamily)},modalChange:function(t){}},mounted:function(){}},r=l,o=(a("5f9d"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,"5f4890aa",null);c.options.__file="AddFamilyModal.vue";e["a"]=c.exports},"91d3":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal warning fade",class:{"is-open":t.open}},[a("div",{staticClass:"modal-dialog modal-sm"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"warning"},[a("img",{attrs:{width:"48",src:t.BaseUrl+"assets/common/warning.png",srcset:t.BaseUrl+"assets/common/warning@2x.png"}}),a("span",{staticClass:"text",domProps:{innerHTML:t._s(t.message)}})]),a("div",{staticClass:"action text-right"},[t.showCancel?a("a",{staticClass:"btn btn-default",on:{click:function(e){t.$emit("close")}}},[t._v(t._s(t.cancelText))]):t._e(),a("a",{staticClass:"btn btn-primary",on:{click:function(e){t.$emit("submit")}}},[t._v(t._s(t.confirmText))])])])])])])},s=[],n=a("be94"),l=a("2f62"),r={name:"WarningModal",props:{open:{type:Boolean,default:!1},message:{type:String,default:""},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"確定"},showCancel:{type:Boolean,default:!0}},computed:Object(n["a"])({},Object(l["c"])(["BaseUrl"]))},o=r,c=a("2877"),d=Object(c["a"])(o,i,s,!1,null,null,null);d.options.__file="WarningModal.vue";e["a"]=d.exports},cf24:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",class:{"is-open":t.open}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row my-4"},[a("div",{staticClass:"col-12"},[a("form",{staticClass:"form"},[a("div",{staticClass:"input-group input-lg"},[a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",name:"keyword",id:"keyword",placeholder:"輸入姓名、身分證或保單號碼進行搜尋..."},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-icon",attrs:{type:"submit"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.doSearch()}}},[a("i",{staticClass:"icon-search i-24"})])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table insurance-green"},[t._m(0),a("tbody",t._l(t.families,function(e,i){return a("tr",{key:"familiy-item-"+i},[a("td",{staticClass:"d-flex justify-content-between align-items-center px-3"},[a("div",{staticClass:"radio radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedFamily,expression:"selectedFamily"}],attrs:{type:"radio",id:"family-"+(i+1)},domProps:{value:i,checked:t._q(t.selectedFamily,i)},on:{change:function(e){t.selectedFamily=i}}}),a("label",{attrs:{for:"family-"+(i+1)}},[t._v(t._s(i+1))])]),a("img",{staticClass:"avatar",attrs:{src:0===e.gender?t.BaseUrl+"assets/common/gender_woman_s.png":1===e.gender?t.BaseUrl+"assets/common/gender_man_s.png":t.BaseUrl+"assets/common/gender_unknow_s.png",srcset:0===e.gender?t.BaseUrl+"assets/common/gender_woman_s@2x.png":1===e.gender?t.BaseUrl+"assets/common/gender_man_s@2x.png":t.BaseUrl+"assets/common/gender_unknow_s@2x.png",width:"20",height:"20"}})]),a("td",[a("a",{staticClass:"link text-underline"},[t._v("\n                      "+t._s(e.name)+"\n                    ")])]),a("td",[t._v(t._s(e.identity))]),a("td",[t._v(t._s(t._f("dateFormat")(e.birthday)))]),a("td",[t._v(t._s(t._f("ageCounter")(e.birthday)))])])}))]),a("div",{staticClass:"actions text-right mt-4"},[a("a",{staticClass:"btn btn-default",on:{click:function(e){t.$emit("close")}}},[t._v("取消加入")]),a("a",{staticClass:"btn btn-primary",on:{click:function(e){t.$emit("submit",t.selectedFamily)}}},[t._v("加入此家戶")])])])])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center",attrs:{width:"120"}},[t._v("#")]),a("th",[t._v("戶長姓名")]),a("th",[t._v("身分證")]),a("th",[t._v("生日")]),a("th",[t._v("歲數")])])])}],n=a("be94"),l=a("2f62"),r=[{name:"王小熊",gender:0,identity:"A223456789",birthday:"19700201"},{name:"陳志明",gender:1,identity:"A223456789",birthday:"19860630"},{name:"陳一明",gender:1,identity:"A223456789",birthday:"19760630"},{name:"陳名醫",gender:0,identity:"A223456789",birthday:"19800630"},{name:"林家豪",gender:1,identity:"A223456789",birthday:"19820630"},{name:"林志明",gender:1,identity:"A223456789",birthday:"19660630"},{name:"林一明",gender:0,identity:"A223456789",birthday:"19860630"},{name:"林名醫",gender:1,identity:"A223456789",birthday:"19770630"},{name:"王家豪",gender:1,identity:"A223456789",birthday:"19820630"},{name:"王志明",gender:1,identity:"A223456789",birthday:"19660630"},{name:"王一明",gender:1,identity:"A223456789",birthday:"19860630"},{name:"王名醫",gender:1,identity:"A223456789",birthday:"19770630"}],o={name:"FamilyModal",props:{open:{type:Boolean,default:!1}},computed:Object(n["a"])({},Object(l["c"])(["BaseUrl"])),data:function(){return{keyword:"",selectedFamily:"",families:r}},methods:{doSearch:function(){}}},c=o,d=a("2877"),m=Object(d["a"])(c,i,s,!1,null,null,null);m.options.__file="FamilyModal.vue";e["a"]=m.exports},d2c8:function(t,e,a){var i=a("aae3"),s=a("be13");t.exports=function(t,e,a){if(i(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(s(t))}},df3a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("img",{staticClass:"avatar",attrs:{src:2===t.gender?t.BaseUrl+"assets/common/gender_woman_l.png":1===t.gender?t.BaseUrl+"assets/common/gender_man_l.png":t.BaseUrl+"assets/common/gender_unknow_l.png",srcset:2===t.gender?t.BaseUrl+"assets/common/gender_woman_l@2x.png":1===t.gender?t.BaseUrl+"assets/common/gender_man_l@2x.png":t.BaseUrl+"assets/common/gender_unknow_l@2x.png",width:t.size}})},s=[],n=(a("c5f6"),a("be94")),l=a("2f62"),r={name:"Avatar",computed:Object(n["a"])({},Object(l["c"])(["BaseUrl"])),props:{gender:{type:Number,default:0},size:{type:Number,default:60}}},o=r,c=a("2877"),d=Object(c["a"])(o,i,s,!1,null,null,null);d.options.__file="Avatar.vue";e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-ea5cca26.fb85a0c4.js.map